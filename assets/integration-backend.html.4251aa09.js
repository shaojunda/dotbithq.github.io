import{_ as c,r as p,o as i,c as d,a as n,b as e,w as o,d as s,e as r}from"./app.7fc00ea9.js";const l={},u=n("h1",{id:"backend-integration",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#backend-integration","aria-hidden":"true"},"#"),s(" Backend Integration")],-1),h={id:"das-account-indexer",tabindex:"-1"},k=n("a",{class:"header-anchor",href:"#das-account-indexer","aria-hidden":"true"},"#",-1),b=s(),q={href:"https://github.com/dotbitHQ/das-account-indexer",target:"_blank",rel:"noopener noreferrer"},m=s("das-account-indexer"),f=s("If developer need to integrate .bit in backend, then "),_={href:"https://github.com/dotbitHQ/das-account-indexer",target:"_blank",rel:"noopener noreferrer"},g=s("das-account-indexer"),v=s(" will be your best choice."),x=n("p",null,"It continuously reads data from the CKB chain through the CKB node, parses it and stores it in the local database (RocksDB), and provides a high-performance JSON-RPC service for the business to read the .bit parsed data.",-1),y=s("In the meantime, it is the backend service "),I=s("das-sdk-js"),w=s(" needed."),B=n("blockquote",null,[n("p",null,[s("Deploying Indexer need a CKB Node\uFF0Csee "),n("a",{href:"#ckb-node-and-ckb-indexer"},"CKB Node And CKB Indexer")])],-1),C={href:"https://github.com/dotbitHQ/das-account-indexer/blob/main/API.md",target:"_blank",rel:"noopener noreferrer"},K=s("das-account-indexer API Document"),j=r(`<h4 id="usage-example" tabindex="-1"><a class="header-anchor" href="#usage-example" aria-hidden="true">#</a> Usage Example</h4><p>The following code takes getting basic user information as an example to illustrate the use of .bit Indexer.</p><p><strong>Request</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -X POST https://indexer-basic.did.id -d<span class="token string">&#39;{&quot;jsonrpc&quot;: &quot;2.0&quot;,&quot;id&quot;: 1,&quot;method&quot;: &quot;das_accountInfo&quot;,&quot;params&quot;: [{&quot;account&quot;:&quot;phone.bit&quot;}]}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Response</strong></p><div class="language-json5 ext-json5 line-numbers-mode"><pre class="language-json5"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;errno&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;errmsg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;data&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;out_point&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;tx_hash&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xabb6b2f502e9d992d00737a260e6cde53ad3f402894b078f60a52e0392a17ec8&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account_info&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;phone.bit&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;account_id_hex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5f560ec1edc638d7dab7c7a1ca8c3b0f6ed1848b&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;next_account_id_hex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x5f5c20  f6cd95388378771ca957ce665f084fe23b&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;create_at_unix&quot;</span><span class="token operator">:</span> <span class="token number">1626955542</span><span class="token punctuation">,</span>
      <span class="token property">&quot;expired_at_unix&quot;</span><span class="token operator">:</span> <span class="token number">1658491542</span><span class="token punctuation">,</span>
      <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;das_lock_arg_hex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x0559724739940777947c56c4f2f2c9211cd5130fef0559724739940777947c56c4f2f2c9211cd5130fef&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;owner_algorithm_id&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 3: eth personal sign, 4: tron sign, 5: eip-712</span>
      <span class="token property">&quot;owner_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x59724739940777947c56c4f2f2c9211cd5130fef&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;manager_algorithm_id&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token property">&quot;manager_key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x59724739940777947c56c4f2f2c9211cd5130fef&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="official-indexer-service" tabindex="-1"><a class="header-anchor" href="#official-indexer-service" aria-hidden="true">#</a> Official Indexer Service</h3><p>Considering the stability of the service and the personalized needs of the business, we suggest building you own Indexer service and follow up the official updates of .bit.(Yes! Decentralization!)</p><p>At the same time, however, the .bit team provided a public Indexer with rate-limit for developers to develop and debug.</p><h4 id="full-functional-indexer" tabindex="-1"><a class="header-anchor" href="#full-functional-indexer" aria-hidden="true">#</a> Full Functional Indexer</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://indexer-v1.did.id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This service can query all data. However, as always, we still recommend developers building their own Indexer.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://indexer-not-use-in-production-env.did.id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This service can query all data, but as its domain name describes, it is not recommended that developers use this Indexer in production (yes! Decentralization!) .</p><h4 id="basic-functional-indexer" tabindex="-1"><a class="header-anchor" href="#basic-functional-indexer" aria-hidden="true">#</a> Basic Functional Indexer</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>https://indexer-basic.did.id
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>This service can only query basic account data and .bit Alias data. The specific interfaces are as follows:</p><ul><li>das_serverInfo</li><li>das_reverseRecord</li><li>das_accountInfo</li><li>das_accountList</li><li><s>das_accountRecords</s></li></ul><h4 id="rate-limit" tabindex="-1"><a class="header-anchor" href="#rate-limit" aria-hidden="true">#</a> Rate Limit</h4><p>Neither of the two public Indexers is currently rate-limited, so please use them on demand.</p><p>However, if the frequency exceeds the capacity of the service, the caller faces the possibility of blocked by IP.</p><h3 id="ckb-node-and-ckb-indexer" tabindex="-1"><a class="header-anchor" href="#ckb-node-and-ckb-indexer" aria-hidden="true">#</a> CKB Node and CKB Indexer</h3>`,22),N=s("The data of .bit is stored on "),R={href:"https://github.com/nervosnetwork/ckb",target:"_blank",rel:"noopener noreferrer"},P=s("Nervos CKB"),D=s(" chain, so deploying your own .bit Indexer needs a corresponding CKB node and CKB Indexer."),T=n("h4",{id:"deploy-process",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#deploy-process","aria-hidden":"true"},"#"),s(" Deploy Process")],-1),S=n("p",null,"For details about the deployment mode, see the CKB official guide:",-1),E={href:"https://docs.nervos.org/docs/basics/guides/mainnet",target:"_blank",rel:"noopener noreferrer"},H=s("CKB Node Deployment Guide"),O=n("br",null,null,-1),A={href:"https://github.com/nervosnetwork/ckb/blob/master/rpc/README.md",target:"_blank",rel:"noopener noreferrer"},F=s("CKB Node JSON-RPC Protocol"),L=n("br",null,null,-1),V={href:"https://github.com/nervosnetwork/ckb-indexer",target:"_blank",rel:"noopener noreferrer"},z=s("CKB Indexer Deployment Guide"),G=n("br",null,null,-1),J={href:"https://github.com/nervosnetwork/ckb-indexer#rpc",target:"_blank",rel:"noopener noreferrer"},Q=s("CKB Indexer JSON-RPC Protocol"),X=r(`<h4 id="usage-example-1" tabindex="-1"><a class="header-anchor" href="#usage-example-1" aria-hidden="true">#</a> Usage Example</h4><h5 id="ckb-node" tabindex="-1"><a class="header-anchor" href="#ckb-node" aria-hidden="true">#</a> CKB Node</h5><p><strong>Request</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -X POST https://mainnet.ckb.dev/rpc -H <span class="token string">&#39;content-type:application/json&#39;</span> -d<span class="token string">&#39;{&quot;id&quot;:42,&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;get_tip_header&quot;,&quot;params&quot;:[]}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Response</strong></p><div class="language-json5 ext-json5 line-numbers-mode"><pre class="language-json5"><code><span class="token punctuation">{</span><span class="token property">&quot;jsonrpc&quot;</span><span class="token operator">:</span><span class="token string">&quot;2.0&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;result&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;compact_target&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x190a0088&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;dao&quot;</span><span class="token operator">:</span><span class="token string">&quot;0xac8ffb215ff346419e9af198c38b26000e53d3ad69969403002bdb8b29d71a07&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;epoch&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x41c03f40014bb&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;extra_hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x0000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x13251222fc73918701aafc8edbb08057dde7ca95d9709990616fb8802b73af9d&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;nonce&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x990fa3bc251b0000000000086019030c&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;number&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x6a37e1&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;parent_hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x4ea3a7a40877471c9a6b98306fbe453007a5306887ff8a05ab5393166f7d0f86&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;proposals_hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x91cea8c15a4b9b0324561f629ff13aff4522f8a925671dfb8650256f7e68692d&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x180509c0e87&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;transactions_root&quot;</span><span class="token operator">:</span><span class="token string">&quot;0xf908c0afd0650812557edf3c346ad0f5ae9a44c24cc6cd58db4e6171631f7bbb&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;version&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x0&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">42</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="ckb-indexer" tabindex="-1"><a class="header-anchor" href="#ckb-indexer" aria-hidden="true">#</a> CKB Indexer</h5><p><strong>Request</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -X POST https://mainnet.ckb.dev/indexer <span class="token number">7</span> -H <span class="token string">&#39;content-type:application/json&#39;</span> -d<span class="token string">&#39;{&quot;id&quot;:42,&quot;jsonrpc&quot;:&quot;2.0&quot;,&quot;method&quot;:&quot;get_tip&quot;}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Response</strong></p><div class="language-json5 ext-json5 line-numbers-mode"><pre class="language-json5"><code><span class="token punctuation">{</span><span class="token property">&quot;jsonrpc&quot;</span><span class="token operator">:</span><span class="token string">&quot;2.0&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;result&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">&quot;block_hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;0xc1d86e3986679d32090240f3e6abb641fe9d898976f8adb204b77d34ce11f3ec&quot;</span><span class="token punctuation">,</span><span class="token property">&quot;block_number&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x6a37db&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token property">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">42</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="community-node" tabindex="-1"><a class="header-anchor" href="#community-node" aria-hidden="true">#</a> Community Node</h4><p>If you do not want to deploy your own CKB nodes or your application are in the testing stage, you can use the public nodes provided by the community (not recommended for long-term use) :</p>`,13),U={href:"https://talk.nervos.org/t/free-node-rpc-and-indexer-rpc-for-ckb-developers/4948",target:"_blank",rel:"noopener noreferrer"},M=s("Free CKB Node"),Y=n("h4",{id:"next-step",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#next-step","aria-hidden":"true"},"#"),s(" Next Step")],-1),W=s("If you need to integrate .bit in frontend\uFF0Cplease read "),Z=s("Frontend Integration"),$=s("If you want to some design guide\uFF0Cplease check "),nn=s("Design Guide");function sn(en,an){const a=p("ExternalLinkIcon"),t=p("RouterLink");return i(),d("div",null,[u,n("h2",h,[k,b,n("a",q,[m,e(a)])]),n("p",null,[f,n("a",_,[g,e(a)]),v]),x,n("blockquote",null,[n("p",null,[y,e(t,{to:"/developers/integration-frontend.html#das-sdk-js"},{default:o(()=>[I]),_:1}),w])]),B,n("blockquote",null,[n("p",null,[n("a",C,[K,e(a)])])]),j,n("p",null,[N,n("a",R,[P,e(a)]),D]),T,S,n("blockquote",null,[n("p",null,[n("a",E,[H,e(a)]),O,n("a",A,[F,e(a)]),L,n("a",V,[z,e(a)]),G,n("a",J,[Q,e(a)])])]),X,n("blockquote",null,[n("p",null,[n("a",U,[M,e(a)])])]),Y,n("ul",null,[n("li",null,[W,e(t,{to:"/developers/integration-frontend.html"},{default:o(()=>[Z]),_:1})]),n("li",null,[$,e(t,{to:"/developers/design-guide.html"},{default:o(()=>[nn]),_:1})])])])}var on=c(l,[["render",sn],["__file","integration-backend.html.vue"]]);export{on as default};
